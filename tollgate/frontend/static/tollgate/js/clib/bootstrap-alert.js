// Generated by CoffeeScript 1.3.1

!(function($) {
  "use strict";

  var Alert, dismiss;
  dismiss = "[data-dismiss=\"alert\"]";
  Alert = function(el) {
    return $(el).on("click", dismiss, this.close);
  };
  Alert.prototype = {
    constructor: Alert,
    close: function(e) {
      var $parent, $this, removeElement, selector;
      removeElement = function() {
        return $parent.trigger("closed").remove();
      };
      $this = $(this);
      selector = $this.attr("data-target");
      $parent = void 0;
      if (!selector) {
        selector = $this.attr("href");
        selector = selector && selector.replace(/.*(?=#[^\s]*$)/, "");
      }
      $parent = $(selector);
      $parent.trigger("close");
      e && e.preventDefault();
      $parent.length || ($parent = ($this.hasClass("alert") ? $this : $this.parent()));
      $parent.trigger("close").removeClass("in");
      if ($.support.transition && $parent.hasClass("fade")) {
        return $parent.on($.support.transition.end, removeElement);
      } else {
        return removeElement();
      }
    }
  };
  $.fn.alert = function(option) {
    return this.each(function() {
      var $this, data;
      $this = $(this);
      data = $this.data("alert");
      if (!data) {
        $this.data("alert", (data = new Alert(this)));
      }
      if (typeof option === "string") {
        return data[option].call($this);
      }
    });
  };
  $.fn.alert.Constructor = Alert;
  return $(function() {
    return $("body").on("click.alert.data-api", dismiss, Alert.prototype.close);
  });
});

window.jQuery;
